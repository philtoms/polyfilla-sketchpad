export const table = {
  C: {
    '-1': { hertz: 8.1758, midi: 0 },
    0: { hertz: 16.352, midi: 12 },
    1: { hertz: 32.703, midi: 24 },
    2: { hertz: 65.406, midi: 36 },
    3: { hertz: 130.81, midi: 48 },
    4: { hertz: 261.63, midi: 60 },
    5: { hertz: 523.25, midi: 72 },
    6: { hertz: 1046.5, midi: 84 },
    7: { hertz: 2093.0, midi: 96 },
    8: { hertz: 4186.0, midi: 108 },
    9: { hertz: 8372.0, midi: 120 },
    10: { hertz: 16744, midi: null },
  },
  'C#': {
    '-1': { hertz: 8.662, midi: 1 },
    0: { hertz: 17.324, midi: 13 },
    1: { hertz: 34.648, midi: 25 },
    2: { hertz: 69.296, midi: 37 },
    3: { hertz: 138.59, midi: 49 },
    4: { hertz: 277.18, midi: 61 },
    5: { hertz: 554.37, midi: 73 },
    6: { hertz: 1108.7, midi: 85 },
    7: { hertz: 2217.5, midi: 97 },
    8: { hertz: 4434.9, midi: 109 },
    9: { hertz: 8869.8, midi: 121 },
    10: { hertz: 17740, midi: null },
  },
  D: {
    '-1': { hertz: 9.177, midi: 2 },
    0: { hertz: 18.354, midi: 14 },
    1: { hertz: 36.708, midi: 26 },
    2: { hertz: 73.416, midi: 38 },
    3: { hertz: 146.83, midi: 50 },
    4: { hertz: 293.66, midi: 62 },
    5: { hertz: 587.33, midi: 74 },
    6: { hertz: 1174.7, midi: 86 },
    7: { hertz: 2349.3, midi: 98 },
    8: { hertz: 4698.6, midi: 110 },
    9: { hertz: 9397.3, midi: 122 },
    10: { hertz: 18795, midi: null },
  },
  'D#': {
    '-1': { hertz: 9.7227, midi: 3 },
    0: { hertz: 19.445, midi: 15 },
    1: { hertz: 38.891, midi: 27 },
    2: { hertz: 77.782, midi: 39 },
    3: { hertz: 155.56, midi: 51 },
    4: { hertz: 311.13, midi: 63 },
    5: { hertz: 622.25, midi: 75 },
    6: { hertz: 1244.5, midi: 87 },
    7: { hertz: 2489.0, midi: 99 },
    8: { hertz: 4978.0, midi: 111 },
    9: { hertz: 9956.1, midi: 123 },
    10: { hertz: 19912, midi: null },
  },
  E: {
    '-1': { hertz: 10.301, midi: 4 },
    0: { hertz: 20.602, midi: 16 },
    1: { hertz: 41.203, midi: 28 },
    2: { hertz: 82.407, midi: 40 },
    3: { hertz: 164.81, midi: 52 },
    4: { hertz: 329.63, midi: 64 },
    5: { hertz: 659.26, midi: 76 },
    6: { hertz: 1318.5, midi: 88 },
    7: { hertz: 2637.0, midi: 100 },
    8: { hertz: 5274.0, midi: 112 },
    9: { hertz: 10548, midi: 124 },
    10: { hertz: 21096, midi: null },
  },
  F: {
    '-1': { hertz: 10.914, midi: 5 },
    0: { hertz: 21.827, midi: 17 },
    1: { hertz: 43.654, midi: 29 },
    2: { hertz: 87.307, midi: 41 },
    3: { hertz: 174.61, midi: 53 },
    4: { hertz: 349.23, midi: 65 },
    5: { hertz: 698.46, midi: 77 },
    6: { hertz: 1396.9, midi: 89 },
    7: { hertz: 2793.8, midi: 101 },
    8: { hertz: 5587.7, midi: 113 },
    9: { hertz: 11175, midi: 125 },
    10: { hertz: 22351, midi: null },
  },
  'F#': {
    '-1': { hertz: 11.563, midi: 6 },
    0: { hertz: 23.125, midi: 18 },
    1: { hertz: 46.249, midi: 30 },
    2: { hertz: 92.499, midi: 42 },
    3: { hertz: 185.0, midi: 54 },
    4: { hertz: 369.99, midi: 66 },
    5: { hertz: 739.99, midi: 78 },
    6: { hertz: 1480.0, midi: 90 },
    7: { hertz: 2960.0, midi: 102 },
    8: { hertz: 5919.9, midi: 114 },
    9: { hertz: 11840, midi: 126 },
    10: { hertz: 23680, midi: null },
  },
  G: {
    '-1': { hertz: 12.25, midi: 7 },
    0: { hertz: 24.5, midi: 19 },
    1: { hertz: 48.999, midi: 31 },
    2: { hertz: 97.999, midi: 43 },
    3: { hertz: 196.0, midi: 55 },
    4: { hertz: 392.0, midi: 67 },
    5: { hertz: 783.99, midi: 79 },
    6: { hertz: 1568.0, midi: 91 },
    7: { hertz: 3136.0, midi: 103 },
    8: { hertz: 6271.9, midi: 115 },
    9: { hertz: 12544, midi: 127 },
    10: { hertz: 25088, midi: null },
  },
  'G#': {
    '-1': { hertz: 12.979, midi: 8 },
    0: { hertz: 25.957, midi: 20 },
    1: { hertz: 51.913, midi: 32 },
    2: { hertz: 103.83, midi: 44 },
    3: { hertz: 207.65, midi: 56 },
    4: { hertz: 415.3, midi: 68 },
    5: { hertz: 830.61, midi: 80 },
    6: { hertz: 1661.2, midi: 92 },
    7: { hertz: 3322.4, midi: 104 },
    8: { hertz: 6644.9, midi: 116 },
    9: { hertz: 13290, midi: null },
    10: { hertz: 26580, midi: null },
  },
  A: {
    '-1': { hertz: 13.75, midi: 9 },
    0: { hertz: 27.5, midi: 21 },
    1: { hertz: 55.0, midi: 33 },
    2: { hertz: 110.0, midi: 45 },
    3: { hertz: 220.0, midi: 57 },
    4: { hertz: 440.0, midi: 69 },
    5: { hertz: 880.0, midi: 81 },
    6: { hertz: 1760.0, midi: 93 },
    7: { hertz: 3520.0, midi: 105 },
    8: { hertz: 7040.0, midi: 117 },
    9: { hertz: 14080, midi: null },
    10: { hertz: 28160, midi: null },
  },
  'A#': {
    '-1': { hertz: 14.568, midi: 10 },
    0: { hertz: 29.135, midi: 22 },
    1: { hertz: 58.27, midi: 34 },
    2: { hertz: 116.54, midi: 46 },
    3: { hertz: 233.08, midi: 58 },
    4: { hertz: 466.16, midi: 70 },
    5: { hertz: 932.33, midi: 82 },
    6: { hertz: 1864.7, midi: 94 },
    7: { hertz: 3729.3, midi: 106 },
    8: { hertz: 7458.6, midi: 118 },
    9: { hertz: 14917, midi: null },
    10: { hertz: 29834, midi: null },
  },
  B: {
    '-1': { hertz: 15.434, midi: 11 },
    0: { hertz: 30.868, midi: 23 },
    1: { hertz: 61.735, midi: 35 },
    2: { hertz: 123.47, midi: 47 },
    3: { hertz: 246.94, midi: 59 },
    4: { hertz: 493.88, midi: 71 },
    5: { hertz: 987.77, midi: 83 },
    6: { hertz: 1975.5, midi: 95 },
    7: { hertz: 3951.1, midi: 107 },
    8: { hertz: 7902.1, midi: 119 },
    9: { hertz: 15804, midi: null },
    10: { hertz: 31609, midi: null },
  },
};

const bTable = {
  Ab: table['G#'],
  Bb: table['A#'],
  Db: table['C#'],
  Eb: table['D#'],
  Gb: table['F#'],
};

const spnTable = Object.entries({ ...table, ...bTable }).reduce(
  (acc, [key, value]) => ({
    ...acc,
    ...Object.entries(value).reduce(
      (acc, [octive, value]) => ({
        ...acc,
        [`${key}${octive}`]: { ...value, octive, label: `${key}${octive}` },
      }),
      {}
    ),
  }),
  {}
);

export const pitchTable = Object.values(spnTable).reduce(
  (acc, { hertz, ...rest }) => ({
    ...acc,
    [hertz]: rest,
  }),
  {}
);

export const midiTable = Object.values(spnTable).reduce(
  (acc, { midi, ...rest }) =>
    midi === null
      ? acc
      : {
          ...acc,
          [midi]: rest,
        },
  {}
);

export const fromPitch = (pitch) => pitchTable[pitch];
export const fromMidi = (midi) => midiTable[midi];
export const fromSPN = (spn) => spnTable[spn];

export default spnTable;
